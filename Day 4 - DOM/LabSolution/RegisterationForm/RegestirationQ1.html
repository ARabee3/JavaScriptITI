<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registeration Form</title>
  </head>
  <body>
    <form action="./WelcomePage.html" id="registeration" method="get">
      <label for="fullName">Full Name</label>
      <input
        type="text"
        name="fullName"
        required
        placeholder="Enter your Name:"
      />
      <label for="fullName" id="labelError"></label>

      <label for="email">Email</label>
      <input type="email" name="email" required />

      <label for="city">City</label>
      <select name="city">
        <option value="minya">Minya</option>
        <option value="cairo">Cairo</option>
        <option value="alex">Alexandria</option>
        <option value="bns">Beni Suef</option>
      </select>

      <label for="pass">Password</label>
      <input type="password" name="pass" required />

      <label for="repeatPassword">Repeat Password</label>
      <input type="password" name="repeatPassword" required />
      <label for="repeatPassword" id="passError"></label>

      <label for="terms">I Accept Terms & Conditions</label>
      <input type="checkbox" name="terms" required />

      <button type="submit">Register</button>
    </form>
    <script>
      var fullName = document.querySelector('[name="fullName"]');
      var fullNameError = document.getElementById("labelError");

      fullNameError.style.color = "red";

      fullName.onfocus = function () {
        this.style.border = "solid 1px blue";
        this.style.outline = "none";
      };

      fullName.onblur = function () {
        this.style.border = "";
        if (this.value == "" || this.value.length <= 3) {
          //fullNameError.textContent = "Error!";
          fullNameError.innerHTML =
            '<img src="notvalid.png" width="20" title="Invalid Name">';
          this.focus();
          this.select();
        } else {
          //fullNameError.textContent = "";
          fullNameError.innerHTML =
            '<img src="valid.png" width="20" title="Invalid Name">';
        }
      };

      var password = document.querySelector('[name="pass"]');
      var repeatPassword = document.querySelector('[name="repeatPassword"]');
      var passError = document.getElementById("passError");
      var form = document.getElementById("registeration");
      passError.style.color = "red";

      repeatPassword.onblur = function () {
        if (password.value == "" || repeatPassword.value == "") {
          //passError.textContent = "Error you can't leave the password field!";
          passError.innerHTML =
            '<img src="notvalid.png" width="20" title="Invalid Name">';
          this.style.backgroundColor = "gray";
          password.style.backgroundColor = "gray";
        } else if (password.value != repeatPassword.value) {
          passError.innerHTML =
            '<img src="notvalid.png" width="20" title="Invalid Name">';
          this.style.backgroundColor = "gray";
          password.style.backgroundColor = "gray";
        } else {
          //passError.textContent = "";
          passError.innerHTML =
            '<img src="valid.png" width="20" title="Invalid Name">';
          this.style.backgroundColor = "white";
          password.style.backgroundColor = "white";
        }
      };

      //Q2
      form.onsubmit = function (event) {
        if (
          fullName.value == "" ||
          fullName.value.length <= 3 ||
          password.value != repeatPassword.value
        ) {
          event.preventDefault();
          alert("Correct the validation errors first");
        } else {
          form.submit();
        }
      };
    </script>
  </body>
</html>
